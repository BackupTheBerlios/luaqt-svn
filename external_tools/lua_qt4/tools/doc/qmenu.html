
   [qt-logo.png]    Home · All Classes · Main Classes · Annotated ·
   Grouped Classes · Functions [trolltech-logo.png]

                           QMenu Class Reference

   The QMenu class provides a menu widget for use in menu bars, context
   menus, and other popup menus. More...
#include <QMenu>

   Part of the QtGui module.

   Inherits QWidget.

   Inherited by Q3PopupMenu.
     * List of all members, including inherited members
     * Qt 3 support members

  Properties

     * icon : QIcon
     * tearOffEnabled : bool
     * title : QString

     * 52 properties inherited from QWidget
     * 1 property inherited from QObject

  Public Functions

     * QMenu ( QWidget * parent = 0 )
     * QMenu ( const QString & title, QWidget * parent = 0 )
     * ~QMenu ()
     * QAction * activeAction () const
     * QAction * addAction ( const QString & text )
     * QAction * addAction ( const QIcon & icon, const QString & text )
     * QAction * addAction ( const QString & text, const QObject *
       receiver, const char * member, const QKeySequence & shortcut = 0 )
     * QAction * addAction ( const QIcon & icon, const QString & text,
       const QObject * receiver, const char * member, const QKeySequence
       & shortcut = 0 )
     * QAction * addMenu ( QMenu * menu )
     * QMenu * addMenu ( const QString & title )
     * QMenu * addMenu ( const QIcon & icon, const QString & title )
     * QAction * addSeparator ()
     * void clear ()
     * QAction * defaultAction () const
     * QAction * exec ()
     * QAction * exec ( const QPoint & p, QAction * action = 0 )
     * void hideTearOffMenu ()
     * QIcon icon () const
     * QAction * insertMenu ( QAction * before, QMenu * menu )
     * QAction * insertSeparator ( QAction * before )
     * bool isTearOffEnabled () const
     * bool isTearOffMenuVisible () const
     * QAction * menuAction () const
     * void popup ( const QPoint & p, QAction * atAction = 0 )
     * void setActiveAction ( QAction * act )
     * void setDefaultAction ( QAction * act )
     * void setIcon ( const QIcon & icon )
     * void setTearOffEnabled ( bool )
     * void setTitle ( const QString & title )
     * QString title () const

     * 183 public functions inherited from QWidget
     * 28 public functions inherited from QObject
     * 10 public functions inherited from QPaintDevice

  Signals

     * void aboutToShow ()
     * void hovered ( QAction * action )
     * void triggered ( QAction * action )

     * 1 signal inherited from QWidget
     * 1 signal inherited from QObject

  Static Public Members

     * QAction * exec ( QList<QAction *> actions, const QPoint & pos,
       QAction * at = 0 )

     * 4 static public members inherited from QWidget
     * 4 static public members inherited from QObject

  Additional Inherited Members

     * 17 public slots inherited from QWidget
     * 1 public slot inherited from QObject
     * 39 protected functions inherited from QWidget
     * 7 protected functions inherited from QObject
     _________________________________________________________________

Detailed Description

   The QMenu class provides a menu widget for use in menu bars, context
   menus, and other popup menus.

   A menu widget is a selection menu. It can be either a pull-down menu
   in a menu bar or a standalone context menu. Pull-down menus are shown
   by the menu bar when the user clicks on the respective item or presses
   the specified shortcut key. Use QMenuBar::addAction() to insert a menu
   into a menu bar. Context menus are usually invoked by some special
   keyboard key or by right-clicking. They can be executed either
   asynchronously with popup() or synchronously with exec(). Menus can
   also be invoked in response to button presses; these are just like
   context menus except for how they are invoked.

   A menu consists of a list of action items. Actions are added with
   addAction(). An action is represented vertically and rendered by
   QStyle. In addition, actions can have a text label, an optional icon
   drawn on the very left side, and shortcut key sequence such as
   "Ctrl+X".

   There are three kinds of action items: separators, actions that show a
   submenu, and actions that perform an action. Separators are inserted
   with addSeparator(). For submenus use addMenu(). All other items are
   considered action items.

   When inserting action items you usually specify a receiver and a slot.
   The receiver will be notifed whenever the item is triggered(). In
   addition, QMenu provides two signals, activated() and highlighted(),
   which signal the QAction that was triggered from the menu.

   You clear a menu with clear() and remove individual action items with
   removeAction().

   A QMenu can also provide a tear-off menu. A tear-off menu is a
   top-level window that contains a copy of the menu. This makes it
   possible for the user to "tear off" frequently used menus and position
   them in a convenient place on the screen. If you want this
   functionality for a particular menu, insert a tear-off handle with
   setTearOffEnabled(). When using tear-off menus, bear in mind that the
   concept isn't typically used on Microsoft Windows so some users may
   not be familiar with it. Consider using a QToolBar instead.

   See the Menus Example for an example of how to use QMenuBar and QMenu
   in your application.

   Important inherited functions: addAction(), removeAction(), clear(),
   addSeparator(), and addMenu().

   See also QMenuBar and GUI Design Handbook: Menu, Drop-Down and Pop-Up.
     _________________________________________________________________

Property Documentation

  icon : QIcon

   This property holds the icon of the menu.

   This is equivalent to the QAction::icon property of the menuAction().

   Access functions:
     * QIcon icon () const
     * void setIcon ( const QIcon & icon )

  tearOffEnabled : bool

   This property holds whether the menu supports being torn off.

   When true, QMenu has a special menu item (often shown as a dashed line
   at the top of the menu) that creates a copy of the menu when the
   tear-off menu item is triggered. This "torn-off" copy lives in a
   separate window. It contains the same menu items as the original menu,
   with the exception of the tear-off handle.

   Access functions:
     * bool isTearOffEnabled () const
     * void setTearOffEnabled ( bool )

  title : QString

   This property holds the title of the menu.

   This is equivalent to the QAction::text property of the menuAction().

   Access functions:
     * QString title () const
     * void setTitle ( const QString & title )
     _________________________________________________________________

Member Function Documentation

  QMenu::QMenu ( QWidget * parent = 0 )

   Constructs a menu with parent parent.

   Although a popup menu is always a top-level widget, if a parent is
   passed the popup menu will be deleted when that parent is destroyed
   (as with any other QObject).

  QMenu::QMenu ( const QString & title, QWidget * parent = 0 )

   Constructs a menu with a title and a parent.

   Although a popup menu is always a top-level widget, if a parent is
   passed the popup menu will be deleted when that parent is destroyed
   (as with any other QObject).

   See also title.

  QMenu::~QMenu ()

   Destroys the menu.

  void QMenu::aboutToShow ()   [signal]

   This signal is emitted just before the menu is shown to the user.

  QAction * QMenu::activeAction () const

   Returns the currently highlighted action, or 0 if no action is
   currently highlighted.

  QAction * QMenu::addAction ( const QString & text )

   This convenience function creates a new action with text. The function
   adds the newly created action to the menu's list of actions, and
   returns it.

   See also QWidget::addAction().

  QAction * QMenu::addAction ( const QIcon & icon, const QString & text )

   This is an overloaded member function, provided for convenience. It
   behaves essentially like the above function.

   This convenience function creates a new action with an icon and some
   text. The function adds the newly created action to the menu's list of
   actions, and returns it.

   See also QWidget::addAction().

  QAction * QMenu::addAction ( const QString & text, const QObject * receiver,
  const char * member, const QKeySequence & shortcut = 0 )

   This is an overloaded member function, provided for convenience. It
   behaves essentially like the above function.

   This convenience function creates a new action with the text text and
   an optional shortcut shortcut. The action's triggered() signal is
   connected to the receiver's member slot. The function adds the newly
   created action to the menu's list of actions and returns it.

   See also QWidget::addAction().

  QAction * QMenu::addAction ( const QIcon & icon, const QString & text, const
  QObject * receiver, const char * member, const QKeySequence & shortcut = 0 )

   This is an overloaded member function, provided for convenience. It
   behaves essentially like the above function.

   This convenience function creates a new action with an icon and some
   text and an optional shortcut shortcut. The action's triggered()
   signal is connected to the member slot of the receiver object. The
   function adds the newly created action to the menu's list of actions,
   and returns it.

   See also QWidget::addAction().

  QAction * QMenu::addMenu ( QMenu * menu )

   This convenience function adds menu as a submenu to this menu. It
   returns the menus menuAction().

   See also QWidget::addAction() and QMenu::menuAction().

  QMenu * QMenu::addMenu ( const QString & title )

   This is an overloaded member function, provided for convenience. It
   behaves essentially like the above function.

   Appends a new QMenu with title to the menu. The menu takes ownership
   of the menu. Returns the new menu.

   See also QWidget::addAction() and QMenu::menuAction().

  QMenu * QMenu::addMenu ( const QIcon & icon, const QString & title )

   This is an overloaded member function, provided for convenience. It
   behaves essentially like the above function.

   Appends a new QMenu with icon and title to the menu. The menu takes
   ownership of the menu. Returns the new menu.

   See also QWidget::addAction() and QMenu::menuAction().

  QAction * QMenu::addSeparator ()

   This convenience function creates a new separator action, i.e. an
   action with QAction::isSeparator() returning true, and adds the new
   action to this menu's list of actions. It returns the newly created
   action.

   See also QWidget::addAction().

  void QMenu::clear ()

   Removes all the menu's actions. Actions owned by the menu and not
   shown in any other widget are deleted.

   See also removeAction().

  QAction * QMenu::defaultAction () const

   Returns the current default action.

   See also setDefaultAction().

  QAction * QMenu::exec ()

   Executes this menu synchronously.

   This is equivalent to exec(pos()).

   This returns the triggered QAction in either the popup menu or one of
   its submenus, or 0 if no item was triggered (normally because the user
   pressed Esc).

   In most situations you'll want to specify the position yourself, for
   example, the current mouse position:
    exec(QCursor::pos());

   or aligned to a widget:
    exec(somewidget.mapToGlobal(QPoint(0,0)));

   or in reaction to a QMouseEvent *e:
    exec(e->globalPos());

  QAction * QMenu::exec ( const QPoint & p, QAction * action = 0 )

   This is an overloaded member function, provided for convenience. It
   behaves essentially like the above function.

   Executes this menu synchronously.

   Pops up the menu so that the action action will be at the specified
   global position p. To translate a widget's local coordinates into
   global coordinates, use QWidget::mapToGlobal().

   This returns the triggered QAction in either the popup menu or one of
   its submenus, or 0 if no item was triggered (normally because the user
   pressed Esc).

   Note that all signals are emitted as usual. If you connect a QAction
   to a slot and call the menu's exec(), you get the result both via the
   signal-slot connection and in the return value of exec().

   Common usage is to position the menu at the current mouse position:
    exec(QCursor::pos());

   or aligned to a widget:
    exec(somewidget.mapToGlobal(QPoint(0, 0)));

   or in reaction to a QMouseEvent *e:
    exec(e->globalPos());

   When positioning a menu with exec() or popup(), bear in mind that you
   cannot rely on the menu's current size(). For performance reasons, the
   menu adapts its size only when necessary. So in many cases, the size
   before and after the show is different. Instead, use sizeHint() which
   calculates the proper size depending on the menu's current contents.

   See also popup() and QWidget::mapToGlobal().

  QAction * QMenu::exec ( QList<QAction *> actions, const QPoint & pos, QAction
  * at = 0 )   [static]

   This is an overloaded member function, provided for convenience. It
   behaves essentially like the above function.

   Executes this menu synchronously.

   The menu's actions are specified by the list of actions. The menu will
   pop up so that the specified action, at, appears at global position
   pos. If at is not specified then the menu appears at position pos.

   The function returns the triggered QAction in either the popup menu or
   one of its submenus, or 0 if no item was triggered (normally because
   the user pressed Esc).

   This is equivalent to:
    QMenu menu;
    QAction *at = actions[0]; // Assumes actions is not empty
    foreach (QAction *a, actions)
       menu.addAction(a);
    menu.exec(pos, at);

   See also popup() and QWidget::mapToGlobal().

  void QMenu::hideTearOffMenu ()

   This function will forcibly hide the torn off menu making it disappear
   from the users desktop.

   See also isTearOffMenuVisible() and isTearOffEnabled().

  void QMenu::hovered ( QAction * action )   [signal]

   This signal is emitted when a menu action is highlighted; action is
   the action that caused the signal to be emitted.

   Often this is used to update status information.

   See also triggered() and QAction::hovered().

  QAction * QMenu::insertMenu ( QAction * before, QMenu * menu )

   This convenience function inserts menu before action before and
   returns the menus menuAction().

   See also QWidget::insertAction() and addMenu().

  QAction * QMenu::insertSeparator ( QAction * before )

   This convenience function creates a new separator action, i.e. an
   action with QAction::isSeparator() returning true. The function
   inserts the newly created action into this menu's list of actions
   before action before and returns it.

   See also QWidget::insertAction() and addSeparator().

  bool QMenu::isTearOffMenuVisible () const

   When a menu is torn off a second menu is shown to display the menu
   contents in a new window. When the menu is in this mode and the menu
   is visible returns true; otherwise false.

   See also hideTearOffMenu() and isTearOffEnabled().

  QAction * QMenu::menuAction () const

   Returns the action associated with this menu.

  void QMenu::popup ( const QPoint & p, QAction * atAction = 0 )

   Displays the menu so that the action atAction will be at the specified
   global position p. To translate a widget's local coordinates into
   global coordinates, use QWidget::mapToGlobal().

   When positioning a menu with exec() or popup(), bear in mind that you
   cannot rely on the menu's current size(). For performance reasons, the
   menu adapts its size only when necessary, so in many cases, the size
   before and after the show is different. Instead, use sizeHint() which
   calculates the proper size depending on the menu's current contents.

   See also QWidget::mapToGlobal() and exec().

  void QMenu::setActiveAction ( QAction * act )

   Sets the currently highlighted action to act.

  void QMenu::setDefaultAction ( QAction * act )

   This will set the default action to act. The default action may have a
   visual queue depending on the current QStyle. A default action is
   usually meant to indicate what will defaultly happen on a drop, as
   shown in a context menu.

   See also defaultAction().

  void QMenu::triggered ( QAction * action )   [signal]

   This signal is emitted when a menu action is triggered; action is the
   action that caused the signal to be emitted.

   Normally, you connect each menu action's triggered() signal to its own
   custom slot, but sometimes you will want to connect several actions to
   a single slot, for example, when you have a group of closely related
   actions, such as "left justify", "center", "right justify".

   See also hovered() and QAction::triggered().

      _______________________________________________________________

                   Copyright © 2005 Trolltech Trademarks

                                                                 Qt 4.0.0
