
   [qt-logo.png]    Home · All Classes · Main Classes · Annotated ·
   Grouped Classes · Functions [trolltech-logo.png]

                          QPicture Class Reference

   The QPicture class is a paint device that records and replays QPainter
   commands. More...
#include <QPicture>

   Part of the QtGui module.

   Inherits QPaintDevice.

   Inherited by Q3Picture.
     * List of all members, including inherited members
     * Qt 3 support members

  Public Functions

     * QPicture ( int formatVersion = -1 )
     * QPicture ( const QPicture & pic )
     * ~QPicture ()
     * QRect boundingRect () const
     * const char * data () const
     * bool isNull () const
     * bool load ( const QString & fileName, const char * format = 0 )
     * bool load ( QIODevice * dev, const char * format = 0 )
     * bool play ( QPainter * painter )
     * bool save ( const QString & fileName, const char * format = 0 )
     * bool save ( QIODevice * dev, const char * format = 0 )
     * void setBoundingRect ( const QRect & r )
     * virtual void setData ( const char * data, uint size )
     * uint size () const
     * QPicture & operator= ( const QPicture & p )

     * 10 public functions inherited from QPaintDevice

  Static Public Members

     * QStringList inputFormatList ()
     * QList<QByteArray> inputFormats ()
     * QStringList outputFormatList ()
     * QList<QByteArray> outputFormats ()
     * const char * pictureFormat ( const QString & fileName )

  Protected Functions

     * virtual int metric ( PaintDeviceMetric m ) const

  Related Non-Members

     * QDataStream & operator<< ( QDataStream & s, const QPicture & r )
     * QDataStream & operator>> ( QDataStream & s, QPicture & r )
     _________________________________________________________________

Detailed Description

   The QPicture class is a paint device that records and replays QPainter
   commands.

   A picture serializes painter commands to an IO device in a
   platform-independent format. They are sometimes referred to as
   meta-files.

   Qt pictures use a proprietary binary format. Unlike native picture
   (meta-file) formats on many window systems, Qt pictures have no
   limitations regarding their contents. Everything that can be painted
   on a widget or pixmap (e.g., fonts, pixmaps, regions, transformed
   graphics, etc.) can also be stored in a picture. QPicture is an
   implicitly shared class.

   Example of how to record a picture:

   printuntil save

   Example of how to replay a picture:
            QPicture picture;
            picture.load("drawing.pic");           // load picture
            QPainter painter;
            painter.begin(&myWidget);              // paint in myWidget
            painter.drawPicture(0, 0, picture);    // draw the picture at (0,0)
            painter.end();                         // painting done

   Pictures can also be drawn using play(). Some basic data about a
   picture is available, for example, size(), isNull() and
   boundingRect().
     _________________________________________________________________

Member Function Documentation

  QPicture::QPicture ( int formatVersion = -1 )

   Constructs an empty picture.

   The formatVersion parameter may be used to create a QPicture that can
   be read by applications that are compiled with earlier versions of Qt.

   Note that the default formatVersion is -1 which signifies the current
   release, i.e. for Qt 4.0 a formatVersion of 7 is the same as the
   default formatVersion of -1.

   Reading pictures generated by earlier versions of Qt is not supported
   in Qt 4.0.

  QPicture::QPicture ( const QPicture & pic )

   Constructs a shallow copy of pic.

  QPicture::~QPicture ()

   Destroys the picture.

  QRect QPicture::boundingRect () const

   Returns the picture's bounding rectangle or an invalid rectangle if
   the picture contains no data.

  const char * QPicture::data () const

   Returns a pointer to the picture data. The pointer is only valid until
   the next non-const function is called on this picture. The returned
   pointer is 0 if the picture contains no data.

   See also size() and isNull().

  QStringList QPicture::inputFormatList ()   [static]

   Returns a list of picture formats that are supported for picture
   input.

   Note that if you want to iterate over the list, you should iterate
   over a copy, e.g.
            QStringList list = myPicture.inputFormatList();
            foreach (QString string, list)
                myProcessing(string);

   See also outputFormatList(), inputFormats(), and QPictureIO.

  QList<QByteArray> QPicture::inputFormats ()   [static]

   Returns a list of picture formats that are supported for picture
   input.

   See also outputFormats(), inputFormatList(), and QPictureIO.

  bool QPicture::isNull () const

   Returns true if the picture contains no data; otherwise returns false.

  bool QPicture::load ( const QString & fileName, const char * format = 0 )

   Loads a picture from the file specified by fileName and returns true
   if successful; otherwise returns false.

   By default, the file will be interpreted as being in the native
   QPicture format. Specifying the format string is optional and is only
   needed for importing picture data stored in a different format.

   See also save().

  bool QPicture::load ( QIODevice * dev, const char * format = 0 )

   This is an overloaded member function, provided for convenience. It
   behaves essentially like the above function.

   dev is the device to use for loading.

  int QPicture::metric ( PaintDeviceMetric m ) const   [virtual protected]

   Internal implementation of the virtual QPaintDevice::metric()
   function.

   A picture has the following hard-coded values: dpi=72,
   numcolors=16777216 and depth=24.

   m is the metric to get.

   Reimplemented from QPaintDevice.

  QStringList QPicture::outputFormatList ()   [static]

   Returns a list of picture formats that are supported for picture
   output.

   Note that if you want to iterate over the list, you should iterate
   over a copy, e.g.
            QStringList list = myPicture.outputFormatList();
            foreach (QString string, list)
                myProcessing(string);

   See also inputFormatList(), outputFormats(), and QPictureIO.

  QList<QByteArray> QPicture::outputFormats ()   [static]

   Returns a list of picture formats that are supported for picture
   output.

   See also inputFormats(), outputFormatList(), and QPictureIO.

  const char * QPicture::pictureFormat ( const QString & fileName )   [static]

   Returns a string that specifies the picture format of the file
   fileName, or 0 if the file cannot be read or if the format is not
   recognized.

   The QPictureIO documentation lists the guaranteed supported picture
   formats, or use QPicture::inputFormats() and QPicture::outputFormats()
   to get lists that include the installed formats.

   See also load() and save().

  bool QPicture::play ( QPainter * painter )

   Replays the picture using painter, and returns true if successful;
   otherwise returns false.

   This function does exactly the same as QPainter::drawPicture() with
   (x, y) = (0, 0).

  bool QPicture::save ( const QString & fileName, const char * format = 0 )

   Saves a picture to the file specified by fileName and returns true if
   successful; otherwise returns false.

   Specifying the file format string is optional. By default the data
   will be saved in the native QPicture file format.

   See also load().

  bool QPicture::save ( QIODevice * dev, const char * format = 0 )

   This is an overloaded member function, provided for convenience. It
   behaves essentially like the above function.

   dev is the device to use for saving.

  void QPicture::setBoundingRect ( const QRect & r )

   Sets the picture's bounding rectangle to r. The automatically
   calculated value is overridden.

  void QPicture::setData ( const char * data, uint size )   [virtual]

   Sets the picture data directly from data and size. This function
   copies the input data.

   See also data() and size().

  uint QPicture::size () const

   Returns the size of the picture data.

   See also data().

  QPicture & QPicture::operator= ( const QPicture & p )

   Assigns picture p to this picture and returns a reference to this
   picture.
     _________________________________________________________________

Related Non-Members

  QDataStream & operator<< ( QDataStream & s, const QPicture & r )

   This is an overloaded member function, provided for convenience. It
   behaves essentially like the above function.

   Writes picture r to the stream s and returns a reference to the
   stream.

  QDataStream & operator>> ( QDataStream & s, QPicture & r )

   This is an overloaded member function, provided for convenience. It
   behaves essentially like the above function.

   Reads a picture from the stream s into picture r and returns a
   reference to the stream.

      _______________________________________________________________

                   Copyright © 2005 Trolltech Trademarks

                                                                 Qt 4.0.0
